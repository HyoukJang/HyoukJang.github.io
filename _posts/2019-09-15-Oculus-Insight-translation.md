---
published: true
layout: post
title: 'Powered by AI : Oculus Insight 번역'
author: JH
categories: technology
tags: POLARIANT Oculus Facebook SLAM
open: true
---

Facebook AI 에서 공개한 블로그 포스트 중 2019년 08월 22일에 릴리즈한 [Powered by AI: Oculus Insight](https://ai.facebook.com/blog/powered-by-ai-oculus-insight/)를 번역한 글이다.

가상현실(VR)과 증강현실(AR) 경험의 잠재력을 극대화하기 위해 기술은 어떤 곳에서도 동작해야 한다. 사람들이 살아가는 곳 뿐만이 아니라 실제 상황 속에 어떻게 움직이더라도. 우리가 처음으로 All-in-one이자 완벽한 무선 VR 게이밍 시스템인 [Oculus Quest](https://www.oculus.com/quest/?fbclid=IwAR0LroH-13ORQDWVjpDt5J6Bv9eGmLNN3um-53P-_RHxF7nyxbGA0lymvYc)를 개발했을 때, 정밀하고 정확하며 실제 상황에서 적용가능한(충분히 컴팩트하고 에너지 효율적인 스탠드얼론 헤드셋을 지원하는) 포지셔널 트래킹이 필요함을 인지하고 있었다.

작년 Oculus Connect 행사에서 Oculus Quest와 Rift S에도 적용가능한 최신의 기술이며 VR 기술에 AI 시스템을 깊게 적용한 Oculus Insight의 일부를 공개했다. Oculus Insight는 가장 처음으로 완벽히 무선을 지원하는 6 자유도(6-DoF)의 헤드셋과 컨트롤러를 지원하는 컨슈머향 AR/VR 디바이스이다. 가장 아랫단 부터 만들어졌으며, 가장 최첨단의 컴퓨터 비전(CV, Computer Vision) 시스템과 visual-inertial SLAM의 스택을 보유하였다.

Oculus Insigt는 VR에서 가장 실제적인 경험을 느끼도록 하기 위해 VR 내의 당신의 정밀한 무브먼트를 반영하기 위해서 매 밀리초마다 헤드셋과 컨트롤러의 정확한 실시간 위치를 계산한다. 이는 이용자의 헤드셋 움직임을 트래킹하기 위해 SLAM을 이용하고 컨트롤러의 위치를 트래킹하기 위해 constellation tracking을 이용한다.


**Visual-inertial SLAM을 이용한 실시간 맵 작성 및 위치 트래킹**

지난 몇 십년 간 SLAM 테크닉에 대해서 학술적 연구가 진행되어 왔다. 그러나 최근에서 야 비로소 자율주행 차 혹은 모바일 AR 앱 등 일반 컨슈머 향 제품에 적용되었습니다. Facebook은 전에 Single Camera와 IMU를 활용해서 스마트폰의 위치를 추적하고 콘텐츠를 실제 세계에 얹어 보여주는 [SLAM for AR mobile devices](https://ai.facebook.com/blog/slam-bringing-art-to-life-through-technology/)를 릴리즈한 바 있습니다. Oculus Insight는 본 라이브러리의 두번 째 세대이며, 두 개 이상의 IMU와 광각 카메라 그리고 헤드셋과 컨트롤러의 6 자유도 위치를 추적하기 위한 적외선 LED의 조합을 포함한 더 중요한 정보들을 내포하고 있습니다.

Oculus Insight 시스템은 주어진 실제 공간의 다른 물체들과 가상의 물체들을 맞추어 보여주기 위하여 맞춤형 하드웨어 아키텍쳐와 진일보한 컴퓨터 비전 알고리즘(Visual-inertial 매핑, 지역 인지(Place Recognition) Geometry Reconstruction 등)을 사용하고 있습니다. 이 놀라운 알고리즘 스택은 VR 기기의 위치를 핀포인트 하고 방의 기하학적 관점을 구분할 수 있으며 본 시스템에 의거해서 생성되고 지속적으로 업데이트되는 3차원 지도 상에서의 헤드셋과 컨트롤러의 위치를 추적하도록 만들어줍니다. 본 프로세스에 사용된 데이터는 Quest와 Rift S 하드웨어에 장착되어 있는 세 가지 종류의 센서로부터 제공됩니다.

1. 헤드셋 및 컨트롤러에있는 IMU의 선형 가속 및 회전 속도 데이터가 통합되어 지연 시간이 짧은 각 방향 및 위치를 추적합니다.
   
2. 헤드셋에 있는 카메라의 이미지 데이터는 방의 3D 맵을 생성하는 데 도움이되며 가구 모서리 또는 바닥의 패턴과 같은 랜드 마크를 정확하게 나타냅니다. 이러한 랜드 마크는 반복적으로 관찰되므로 Insight가 드리프트 (시간이 지남에 따라 작은 측정 불일치가 발생하여 위치 추적이 부정확 한 IMU의 일반적인 문제)를 보상 할 수 있습니다.

3. 컨트롤러의 적외선 LED는 헤드셋 카메라에 의해 감지되어 시스템이 여러 IMU를 통합하여 발생하는 컨트롤러 위치 드리프트를 보정합니다.

이동하면 Oculus Insight는 창의 모서리와 같이 대비가 높은 이미지의 픽셀을 감지합니다. 이러한 고 대비 이미지 영역은 이미지에서 이미지까지 시간이 지남에 따라 추적 및 연결됩니다. Oculus Insight는 관측 기준이 충분히 길면 주변 각 지점의 3D 위치를 삼각 측량 할 수 있습니다. 이것은 시스템의 3D 환경 맵의 기초를 형성합니다.

SLAM의 첫 번째 주요 응용 분야는 로봇 공학, 특히 초기 자율 주행 차량에서 대량의 컴퓨팅 리소스 (여러 온보드 PC)에 의존하고 값 비싼 (내비게이션 등급 IMU와 같은) 센서와 고전력을 요구하는 센서(예 : 3D Lidar 시스템)를 사용했습니다. 최근에는 엔지니어들이 게임 및 카메라 필터의 AR 효과를 위해 휴대폰에서도 SLAM을 실행할 수있는 기술을 도입했습니다.


그러나 모바일 스마트폰 AR에는 약간의 지연 또는 위치 부정확성이 허용되지만, 완전 무선의 VR은 소비자 SLAM 애플리케이션을 위해서 전례없는 수준의 속도, 정확성 및 정밀도를 요구합니다. 왜냐하면, 모바일 스마트폰 AR에서 3D 효과는 사용자의 전체 시야의 작은 영역을 차지하고 콘텐츠를 시간 동기화하여 대기 시간을 줄일 수 있는 반면, VR의 컨텐츠는 사용자의 전체 시야를 차지하므로 시스템은 사용자가 이동할 수있는 한 빨리 응답해야합니다. 이로 인해 잠재적 추적 오류가 훨씬 더 눈에 띄게되고 Oculus Quest and Rift에서 Insight를 실행하기가 훨씬 어려워집니다.

SLAM은 환경의 기능을 자동으로 인식하여 이러한 문제를 해결함으로써 Oculus Insight가 플레이어의 현재 위치를 VR 디스플레이에 통합 할 수 있도록 합니다. 또한 Insight는 다이나믹 댐핑 기능이있는 외삽 기능을 사용하여 사용자의 머리와 손이 밀리 초 단위로 어디로 이동할지 예측합니다. 이는 추적 시스템을 측정하는 주요 지표 인 지터 (Jitter)로 알려진 시각적 흔들림 효과를 줄이는 등 여러 가지 이점을 제공합니다. 편안한 VR 경험을 가능하게 하려면 추적 정확도는 1 밀리미터 미만의 범위 내에 있어야합니다. 즉, 시스템은 1 밀리미터보다 큰 정밀도로 추적 할 수 있습니다. Insight는 대부분의 환경에서 본 목표를 초과합니다. 

몰입형 경험을 제공 할 때 피해야 할 또 다른 주요 요소는 지연 시간(latency)입니다. 물리적 움직임과 그에 상응하는 VR 간의 지연은 사용자를 혼란스럽게하고 현실감을 떨어 뜨릴 수 있습니다. Insight는 대기 시간이 짧은 IMU 데이터와 사용자의 미래 움직임을 예측하는 운동학적 모델을 사용하여 명백한 대기 시간을 효과적으로 제거 할 수 있습니다. 다음 섹션에서는 SLAM 데이터를 통합하는 센서 퓨전 프로세스에 대해 자세히 설명할 예정입니다. 지터(jitter)와 대기 시간(latench)을 줄이는 것이 VR 내에서 새로운 수준의 사실감을 제공하는 Insight의 능력의 핵심입니다. 
또한 SLAM은 너무 빨리 이동하거나 너무 멀리 이동하는 검 스윙과 같이 VR에서 해당 움직임으로 올바르게 변환되지 않는 신체적 움직임으로 인해 발생할 수있는 혼란스러운 느낌인 "swimminess"을 최소화하는 등의 미묘한 이점을 가지고 있습니다. .













**(2) 결국 HR로 귀결되는 사건**

기업은 다양한 자원으로 구성되어 있고 건전하고 우수한 기업이라고 평가할만한 지표가 굉장히 많지만, 모회사, 피인수회사 모두 성공적인 인수합병이라고 평가할 수 있는 지표는 결국 HR로 귀결된다. 재무적이고 자원의 최적 배치 측면은 당연히 인수합병 결정 배경 안에 녹아 있고, 이를 활용해서 더욱 큰 엑셀러레이션을 만들어내는 건 '사람'에 있다. 사람의 동기부여를 어떤 방식으로 끌어올리고 동기부여를 통하여 새로운 엔진을 장착하는 건 HR 이슈가 결정적이라고 느꼈다. 


**(3) 포기가 아닌 집중이 만드는 에너지**

기업에 있어서 '더함'이란 더하기(Plus)가 아니라 빼기(Minus)와 결합(Bind)의 합성이라고 느꼈다. 여기서 '빼기'라는 것은 인수합병 당사자인 양사가 보유했던 자원 중의 일부를 빼내는 것이며, 빼낸 자리가 경첩이 되어 또다른 결합을 만들어내는 것 같다. 빼낼 때는 '포기'라고 느껴지는 게 많지만 결국 한 비전을 바라보기 위해서는 결합하고 집중을 만들어 내야한다. 그게 (2)에서 이야기했던 HR 관점의 동기부여를 이끌어내는 방법이자 한정된 자원을 가장 적절한 곳에 배치할 수 있는 길일테다.

필자는 항상 만져지는 개념을 좋아해서 붕뜨는 이야기를 싫어하지만 지난 인수합병의 사건을 길지 않은 이 시점에서 돌아봤을 때 많은 생각의 전환이 있었다. 지금보다 더 시간이 길어지면 그 때는 또 달라지지 않을까? 어쨌든 새로운 일이 신나고 재밌다. 더 잘해낼 수 있을 것 같다. 이제껏 그래왔듯이 증명하는 건 내 몫이니 세상에 증명을 해내야겠지만.